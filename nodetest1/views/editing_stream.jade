extends layout

block content

    h1 Edit your video: #{name}

    video(width="320" height="240" controls src="file:../videos/output/#{fileName}" type="video/mp4")
    h2 Labels
        each labelName in label
            h4 #{(JSON.stringify(labelName)).substr(1).slice(8, -1).replace(/['"]+/g, '')}
    h2 Trim your video
    form(action='/trim', method='post', id='input')
        label(for='startTime') start time
        input(type='text', value='', name='startTime', id='startTime', placeholder="00:01:00")
        label(for='endTime') duration
        input(type='text', value='', name='endTime', id='endTime', placeholder="00:02:15")
        label(for='endTime') cut name
        input(type='text', value='', name='cutName', id='cutName', placeholder="cut1")
        button(type="submit") submit

    h2 Download your edited file
    a(href='/download') Download #{trim}
    br
    br
    a(href='/downloadWhole') Download whole Stream
    br
    br
    a(href="/")
        button(type="button") Take me back
    br
    h2 Your other edited videos
        each video in trims
            h4 #{(JSON.stringify(video)).substr(1).slice(33, -1).replace(/['"]+/g, '')}
            form(action='/downloadTrims', method='post', id='input') 
                input(type='hidden', value=(JSON.stringify(video)).substr(1).slice(48, -1).replace(/['"]+/g, ''), name='trimName', id='startTime')
                button(type="submit") Download

